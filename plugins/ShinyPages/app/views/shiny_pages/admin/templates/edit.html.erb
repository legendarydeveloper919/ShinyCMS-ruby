<% @page_title = t( '.title' ) %>

<%= form_for @template, url: shiny_pages.template_path( @template ), method: :put do |f| %>
  <p>
    <%= f.label :name %>
    <br><%= f.text_field :name %>
  </p>
  <p>
    <%= f.label :description %>
    <br><%= f.text_field :description %>
  </p>
  <p>
    <%= f.label :filename, t( 'admin.template_file' ) %>
    <br><%= f.select :filename, ShinyPages::Template.available_templates, include_blank: '' %>
  </p>

  <%= f.fields_for :elements do |fields| %>
    <%= render partial: 'element', locals: { fields: fields, content: :content, name: @template.elements[fields.index].name, element_type: @template.elements[fields.index].element_type, filenames: filenames_for_image_select } %>
  <% end %>

  <p class="top-margin">
    <%= submit_tag t( 'update' ) %>
  </p>
<% end %>
