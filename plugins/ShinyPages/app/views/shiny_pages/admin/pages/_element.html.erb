
<% if current_user.can? :edit, :page_templates %>
<tr id="sorted_<%= id %>">
  <td class="handle" hidden></td>
<% else %>
<tr>
<% end %>
  <td>
  <% if element_type == 'short_text' %>
    <%= fields.label content, name.humanize %><br>
    <%= fields.text_field content %>
  <% elsif element_type == 'long_text' %>
    <%= fields.label content, name.humanize %><br>
    <%= fields.text_area content %>
  <% elsif element_type == 'html' %>
    <%= fields.label content, name.humanize %><br>
    <%= fields.cktext_area content, ckeditor: { customConfig: '/js/ckeditor/config.js' } %>
  <% elsif element_type == 'image' %>
    <%= fields.label 'content_image', name.humanize %><br>
    <% if content_image.present? %>
    <%= image_tag content_image.variant( resize_to_limit: [ nil, 150 ] ).processed.service_url, class: 'admin-image-thumbnail' %>
    &nbsp;(<%= content_image.filename %>)
    <% end %>
    <%= fields.file_field 'content_image', accept: 'image/png,image/gif,image/jpeg' %>
  <% else %>
    [ <%= t( 'admin.unknown_element_type' ) %> ]
  <% end %>
  </td>
</tr>
